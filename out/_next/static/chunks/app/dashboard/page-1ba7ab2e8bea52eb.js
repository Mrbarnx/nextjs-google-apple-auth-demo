(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{1027:function(e,i,t){Promise.resolve().then(t.bind(t,8447))},8447:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return o}});var n=t(7437),r=t(2265),s=t(6463),a=t(5735),l=t(7552);function o(){let e=(0,s.useRouter)(),[i,t]=(0,r.useState)("Loading your session..."),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let i;let n=window.sessionStorage.getItem("mockAppleUser");if(n){let e=JSON.parse(n);c({provider:"Apple (mock)",uid:e.uid,email:e.email,displayName:e.displayName}),t("Signed in");return}try{i=(0,l.y)()}catch(i){console.error("Firebase config error:",i),t("Missing Firebase config"),e.replace("/");return}let r=(0,a.Aj)(i,i=>{if(!i){e.replace("/");return}c({provider:"Google/Apple (Firebase)",uid:i.uid,email:i.email,displayName:i.displayName}),t("Signed in")});return()=>r()},[e]);let p=async()=>{if(!u)try{d(!0),window.sessionStorage.removeItem("mockAppleUser");try{let e=(0,l.y)();await (0,a.w7)(e)}catch(e){console.log("No Firebase session to sign out:",e)}e.replace("/")}finally{d(!1)}};return(0,n.jsx)("main",{className:"page",children:(0,n.jsxs)("section",{className:"card",children:[(0,n.jsx)("h1",{className:"title",children:"Dashboard"}),(0,n.jsx)("p",{className:"subtitle",children:i}),o?(0,n.jsxs)("div",{className:"buttonStack",style:{gap:"8px",marginBottom:"14px"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Provider:"})," ",o.provider]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Name:"})," ",o.displayName||"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"Email:"})," ",o.email||"N/A"]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("strong",{children:"User ID:"})," ",o.uid||"N/A"]})]}):null,(0,n.jsx)("button",{type:"button",className:"authButton appleBtn",onClick:p,disabled:u,children:u?"Signing out...":"Sign out"})]})})}},7552:function(e,i,t){"use strict";t.d(i,{y:function(){return a}});var n=t(5236),r=t(5735);let s={apiKey:"AIzaSyCkwBJiQcsFu0QDtI9Kt-VS5purXhWonvw",authDomain:"oauth-f23ff.firebaseapp.com",projectId:"oauth-f23ff",appId:"1:229309869251:web:7300e912972ba6ccdd8676"};function a(){!function(){let e=Object.entries(s).filter(e=>{let[,i]=e;return!i}).map(e=>{let[i]=e;return i});if(e.length>0)throw Error("Missing Firebase env vars: ".concat(e.join(", ")))}();let e=(0,n.C6)().length?(0,n.Mq)():(0,n.ZF)(s);return(0,r.v0)(e)}}},function(e){e.O(0,[990,661,971,23,744],function(){return e(e.s=1027)}),_N_E=e.O()}]);